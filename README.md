# ミエトル - 予実管理 Web アプリ

数字に強くない 30 代の起業家・起業準備者でも、10 年 5000 万円の事業計画を簡単に作成・管理できる予実管理アプリケーションです。

## 📋 概要

**ミエトル**は、経理知識がない起業家でも直感的に使える予実管理 Web アプリです。わかりやすい用語と美しいビジュアルで、事業計画の作成から実績管理まで一元的に行えます。

### 🎯 ターゲットユーザー

- 数字に強くない 30 代の起業家・起業準備者
- 経理知識が少ない事業者
- IT リテラシー：中程度（一般的な WEB サービスを利用可能）

### 💡 コンセプト

専門用語を避け、「売上高」→「売上」、「営業利益」→「事業の利益」など、わかりやすい表現を使用しています。

## 🚀 技術スタック

- **フロントエンド**: React 19.1.0 + TypeScript
- **スタイリング**: TailwindCSS
- **ビルドツール**: Vite
- **ルーティング**: React Router DOM
- **チャート**: Recharts
- **アイコン**: Lucide React
- **日付処理**: date-fns

## 🛠️ セットアップ

### 前提条件

- Node.js (推奨バージョン: 18.x 以上)
- npm または yarn

### インストール手順

1. リポジトリをクローン

```bash
git clone [repository-url]
cd mietoru
```

2. 依存関係をインストール

```bash
npm install
```

3. Google OAuth 設定

#### Google Cloud Console での設定

1. [Google Cloud Console](https://console.cloud.google.com/) にアクセス
2. 新しいプロジェクトを作成または既存のプロジェクトを選択
3. "APIs & Services"→"Credentials"に移動
4. "+ CREATE CREDENTIALS"→"OAuth client ID"を選択
5. アプリケーションタイプを"Web application"に設定
6. "Authorized JavaScript origins"に以下を追加：
   - `http://localhost:5173` (開発環境)
   - 本番環境のドメイン
7. "Authorized redirect URIs"に以下を追加：
   - `http://localhost:5173` (開発環境)
   - 本番環境のドメイン
8. 作成されたクライアント ID をコピー

#### 環境変数の設定

`.env` ファイルを作成し、以下を設定：

```env
# Google OAuth設定
VITE_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# API設定
VITE_API_BASE_URL=http://localhost:3000/api
```

4. 開発サーバーを起動

```bash
npm run dev
```

4. ブラウザで http://localhost:5173 を開く

## 🔐 Google SSO 実装詳細

このアプリケーションでは、Google Identity Services (GIS) を使用して Google SSO を実装しています。

### 実装内容

- **Google One Tap 認証**: 自動的にポップアップ表示される認証
- **JWT トークン処理**: Google から返される JWT トークンの自動パース
- **セキュアな認証フロー**: 最新の Google 認証仕様に準拠
- **セッション管理**: ログアウト時の Google セッション無効化

### セキュリティ考慮事項

- **本番環境**: JWT トークンの検証をバックエンドで行ってください
- **HTTPS 必須**: 本番環境では HTTPS 環境での使用が必要です
- **CSP 設定**: 適切な Content Security Policy ヘッダーを設定してください
- **トークン検証**: 受信した JWT トークンは必ずサーバーサイドで検証してください

### 実装ファイル

- `src/contexts/AuthContext.tsx` - 認証ロジック
- `src/pages/Login.tsx` - ログイン画面
- `src/types/google.d.ts` - Google APIs 型定義
- `index.html` - Google Identity Services スクリプト読み込み

### ビルド

```bash
npm run build
```

### プレビュー

```bash
npm run preview
```

## 📱 主要機能

### 1. ダッシュボード画面

- 現在の達成状況（予算 vs 実績）の一覧表示
- 重要 KPI の可視化
- アラート・通知エリア
- 10 年ロードマップの進捗バー

### 2. ロードマップ設定画面

- 10 年間の売上・利益・従業員数目標設定
- 事業フェーズ（創業期・成長期・拡大期・安定期）の設定
- シミュレーション実行機能
- 売上推移の可視化

### 3. 予実管理画面

- 月次実績入力フォーム
- 予算 vs 実績の比較表・グラフ
- 弥生会計からのデータ自動取込
- KPI 達成状況の表示

### 4. 相談・サポート画面

- 税理士相談のオンライン予約システム
- よくある質問（FAQ）
- チャット機能
- 過去の相談履歴

### 5. 設定画面

- 月次タスク通知の設定・編集・削除
- 通知日時・方法の設定
- ユーザー情報管理
- 弥生会計連携設定

## 🎨 デザインシステム

### カラーパレット

- **メインカラー**: #67BACA （プライマリーブルー）
- **アクセントカラー**: #FE0000 （レッド）
- **サブカラー 1**: #B3DBC0 （ライトグリーン）
- **サブカラー 2**: #FDF6F6 （ライトピンク）
- **背景色**: #FFFFFF
- **文字色**: #333333
- **境界・枠線**: #E0E0E0

### ステータスカラー

- **成功**: #4CAF50
- **警告**: #FFA726
- **情報**: #2196F3
- **エラー**: #D32F2F

## 📊 データ構造

### 主要なデータ型

- `FinancialData`: 財務データ
- `YearlyTarget`: 年次目標
- `KPIData`: KPI 指標
- `Task`: 通知タスク
- `Consultation`: 相談データ

詳細は `src/types/index.ts` を参照してください。

## 🔧 弥生会計連携

### 連携機能

- 売上高、売上原価、販売費及び一般管理費、営業利益の自動取込
- 月次推移データの同期
- API 連携による自動取込
- CSV ファイルアップロード機能
- 手動入力のサポート

### 連携設定

1. 設定画面から「弥生会計連携」セクションへ
2. API キーを入力
3. 自動同期の設定（頻度選択）
4. テスト接続の実行

## 📈 KPI 自動設定

### 算出指標

- **売上成長率**: 前年同月比
- **利益率**: 売上に対する利益の割合
- **月次目標達成率**: 予算 vs 実績
- **10 年目標進捗率**: 最終目標に対する現在位置

### アラート機能

- 目標未達時の通知
- 大幅な実績乖離の警告
- 改善提案の自動表示

## 📱 レスポンシブデザイン

- **PC**: メイン入力・詳細分析
- **タブレット**: 閲覧・簡単な入力
- **スマートフォン**: KPI 確認・通知確認

## 🔒 セキュリティ

- SSL 通信による暗号化
- 個人情報保護対応
- 定期的なバックアップ（今後実装予定）

## 🤝 貢献

このプロジェクトへの貢献を歓迎します。

1. このリポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/AmazingFeature`)
3. 変更をコミット (`git commit -m 'Add some AmazingFeature'`)
4. ブランチにプッシュ (`git push origin feature/AmazingFeature`)
5. プルリクエストを作成

## 📝 ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。

## 🆘 サポート

質問やサポートが必要な場合は、以下の方法でお問い合わせください：

- GitHub Issues
- アプリ内チャット機能
- 税理士相談予約システム

---

**ミエトル** - あなたの事業成長を見える化します 📊✨
